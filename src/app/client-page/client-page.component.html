<mat-horizontal-stepper class="horisontal-stepper" [linear]="isLinear" #stepper="matHorizontalStepper">
  <mat-step [stepControl]="appDescForm">
      <div class="client-form-container">
        <form [formGroup]="appDescForm" (ngSubmit)="submitDescriptionForm(stepper)" novalidate>
          <ng-template matStepLabel>Заповни форму</ng-template>
          <mat-form-field class="full-width">
            <textarea matInput maxlength="250" #name placeholder="Назва проекту :" formControlName="name" matTextareaAutosize matAutosizeMinRows="2" matAutosizeMaxRows="6"></textarea>
            <mat-hint align="end">{{name.value.length}} / 250</mat-hint>
            <mat-error *ngIf="appDescForm">{{getErrorMessage("name")}}</mat-error>
          </mat-form-field>
          <mat-form-field class="full-width">
            <input matInput maxlength="6" #requestedBudget placeholder="Запитувана сума, грн.:" formControlName="requestedBudget">
            <span matPrefix>₴&nbsp;</span>
            <mat-hint align="end">{{requestedBudget.value.length}} / 6</mat-hint>
            <mat-error *ngIf="appDescForm">{{getErrorMessage("requestedBudget")}}</mat-error>
          </mat-form-field>
          <mat-form-field class="full-width" matTooltip="Назва організації або ініціативної групи, що подає проект" [matTooltipPosition]="positionTollTip">
            <textarea matInput maxlength="250" #organizationName placeholder="Назва організації або ініціативної групи, що подає проект:" formControlName="organizationName"  matTextareaAutosize matAutosizeMinRows="2" matAutosizeMaxRows="6"></textarea>
            <mat-hint align="end">{{organizationName.value.length}} / 250</mat-hint>
            <mat-error *ngIf="appDescForm">{{getErrorMessage("organizationName")}}</mat-error>
          </mat-form-field>
          <mat-form-field class="full-width">
            <textarea matInput maxlength="250" #theme placeholder="Тематичний напрямок, під який підпадає проект:" formControlName="theme"  matTextareaAutosize matAutosizeMinRows="2" matAutosizeMaxRows="6"></textarea>
            <mat-hint align="end">{{theme.value.length}} / 250</mat-hint>
            <mat-error *ngIf="appDescForm">{{getErrorMessage("theme")}}</mat-error>
          </mat-form-field>
          <mat-form-field class="full-width">
            <input matInput #requiredTime placeholder="Термін втілення проекту:" formControlName="requiredTime">
            <mat-hint align="end">{{requiredTime.value.length}} / 100</mat-hint>
            <mat-error *ngIf="appDescForm">{{getErrorMessage("requiredTime")}}</mat-error>
          </mat-form-field>
          <mat-form-field class="full-width">
            <input matInput maxlength="100" #coordinatorName placeholder="Координатор/ка проекту:" formControlName="coordinatorName" matTextareaAutosize matAutosizeMinRows="2" matAutosizeMaxRows="6">
            <mat-hint align="end">{{coordinatorName.value.length}} / 100</mat-hint>
            <mat-error *ngIf="appDescForm">{{getErrorMessage("coordinatorName")}}</mat-error>
          </mat-form-field>
          <mat-form-field class="full-width">
            <span matPrefix>+38 &nbsp;</span>
            <input matInput maxlength="10" #coordinatorPhone placeholder="Координатор/ка проекту (моб.тел.):" formControlName="coordinatorPhone">
            <mat-hint align="end">{{coordinatorPhone.value.length}} / 10</mat-hint>
            <mat-error *ngIf="appDescForm">{{getErrorMessage("coordinatorPhone")}}</mat-error>
          </mat-form-field>
          <mat-form-field class="full-width">
            <input matInput maxlength="50" #coordinatorEmail placeholder="Координатор/ка проекту (електронна адреса):" formControlName="coordinatorEmail">
            <mat-hint align="end">{{coordinatorEmail.value.length}} / 50</mat-hint>
            <mat-error *ngIf="appDescForm">{{getErrorMessage("coordinatorEmail")}}</mat-error>
          </mat-form-field>
          <mat-form-field class="full-width" matTooltip="Команда проекту (не менш як 2 особи, з контактами (моб.тел., електронна адреса) та розподілом обов’язків)" [matTooltipPosition]="positionTollTip">
            <textarea matInput maxlength="1000" placeholder="Команда проекту (не менш як 2 особи, з контактами (моб.тел., електронна адреса) та розподілом обов’язків):" formControlName="projectMembers" matTextareaAutosize matAutosizeMinRows="2" matAutosizeMaxRows="6"></textarea>
            <mat-hint align="end">{{coordinatorName.value.length}} / 1000</mat-hint>
            <mat-error *ngIf="appDescForm">{{getErrorMessage("projectMembers")}}</mat-error>
          </mat-form-field>
          <mat-form-field matTooltip="Попередній досвід команди проекту у громадській діяльності або волонтерстві (не більше 5 рядків про кожного члена команди)" [matTooltipPosition]="positionTollTip" class="full-width">
            <textarea matInput maxlength="2000" #expirienceDescription placeholder="Попередній досвід команди проекту у громадській діяльності або волонтерстві (не більше 5 рядків про кожного члена команди):" formControlName="expirienceDescription" matTextareaAutosize matAutosizeMinRows="2" matAutosizeMaxRows="6"></textarea>
            <mat-hint align="end">{{expirienceDescription.value.length}} / 2000</mat-hint>
            <mat-error *ngIf="appDescForm">{{getErrorMessage("expirienceDescription")}}</mat-error>
          </mat-form-field>
          <mat-form-field class="full-width">
            <textarea matInput maxlength="250" #address placeholder="Адреса організації (якщо є):" formControlName="address"  matTextareaAutosize matAutosizeMinRows="2" matAutosizeMaxRows="6"></textarea>
            <mat-hint align="end">{{address.value.length}} / 250</mat-hint>
            <mat-error *ngIf="appDescForm">{{getErrorMessage("address")}}</mat-error>
          </mat-form-field>
          <mat-form-field class="full-width">
            <textarea matInput maxlength="150" #webaddress placeholder="Веб-сайт, Facebook:" formControlName="webaddress"  matTextareaAutosize matAutosizeMinRows="2" matAutosizeMaxRows="6"></textarea>
            <mat-hint align="end">{{webaddress.value.length}} / 150</mat-hint>
            <mat-error *ngIf="appDescForm">{{getErrorMessage("webaddress")}}</mat-error>
          </mat-form-field>
          <mat-form-field class="full-width" matTooltip="Мета проекту (одним реченням, що саме і яким чином плануєте досягти внаслідок реалізації проекту)" [matTooltipPosition]="positionTollTip">
            <textarea matInput maxlength="1000" #goal placeholder="Мета проекту (одним реченням, що саме і яким чином плануєте досягти внаслідок реалізації проекту):" formControlName="goal"  matTextareaAutosize matAutosizeMinRows="2" matAutosizeMaxRows="6"></textarea>
            <mat-hint align="end">{{goal.value.length}} / 1000</mat-hint>
            <mat-error *ngIf="appDescForm">{{getErrorMessage("goal")}}</mat-error>
          </mat-form-field>
          <mat-form-field class="full-width" matTooltip="Актуальність проекту (чому запропонована у проекті діяльність є важливою, максимум 100 слів)" [matTooltipPosition]="positionTollTip">
            <textarea matInput maxlength="2000" #actuality placeholder="Актуальність проекту (чому запропонована у проекті діяльність є важливою, максимум 100 слів):" formControlName="actuality"  matTextareaAutosize matAutosizeMinRows="2" matAutosizeMaxRows="6"></textarea>
            <mat-hint align="end">{{actuality.value.length}} / 2000</mat-hint>
            <mat-error *ngIf="appDescForm">{{getErrorMessage("actuality")}}</mat-error>
          </mat-form-field>
          <mat-form-field class="full-width" matTooltip="Опис проекту (розгорнуто, не більше як 300 слів, потрібно описати, що відбуватиметься, які заходи будуть здійснені у
                рамках проекту)" [matTooltipPosition]="positionTollTip">
            <textarea matInput maxlength="2000" #fullDescription placeholder="Опис проекту (розгорнуто, не більше як 300 слів, потрібно описати, що відбуватиметься, які заходи будуть здійснені у
                    рамках проекту):" formControlName="fullDescription" matTextareaAutosize matAutosizeMinRows="2" matAutosizeMaxRows="6"></textarea>
            <mat-hint align="end">{{fullDescription.value.length}} / 2000</mat-hint>
            <mat-error *ngIf="appDescForm">{{getErrorMessage("fullDescription")}}</mat-error>
          </mat-form-field>
          <mat-form-field class="full-width" matTooltip="Цільові групи (на чиї потреби чи на кого спрямована дія проекту, як Ви плануєте запрошувати/залучати цю аудиторію)" [matTooltipPosition]="positionTollTip">
            <textarea matInput maxlength="2000" #targetGroup placeholder="Цільові групи (на чиї потреби чи на кого спрямована дія проекту, як Ви плануєте запрошувати/залучати цю аудиторію):" formControlName="targetGroup"  matTextareaAutosize matAutosizeMinRows="2" matAutosizeMaxRows="6"></textarea>
            <mat-hint align="end">{{targetGroup.value.length}} / 2000</mat-hint>
            <mat-error *ngIf="appDescForm">{{getErrorMessage("targetGroup")}}</mat-error>
          </mat-form-field>
          <mat-form-field class="full-width" matTooltip="Очікувані результати проекту (кількісні та якісні, короткострокові та довгострококові показники успішності проекту)" [matTooltipPosition]="positionTollTip">
            <textarea matInput maxlength="2000" #expectedResults placeholder="Очікувані результати проекту (кількісні та якісні, короткострокові та довгострококові показники успішності проекту):" formControlName="expectedResults"  matTextareaAutosize matAutosizeMinRows="2" matAutosizeMaxRows="6"></textarea>
            <mat-hint align="end">{{expectedResults.value.length}} / 2000</mat-hint>
            <mat-error *ngIf="appDescForm">{{getErrorMessage("expectedResults")}}</mat-error>
          </mat-form-field>
          <mat-form-field class="full-width">
            <textarea matInput maxlength="1000" #requiredPermissions placeholder="Погодження та дозволи, необхідні для втілення проекту:" formControlName="requiredPermissions" matTextareaAutosize matAutosizeMinRows="2" matAutosizeMaxRows="6"></textarea>
            <mat-hint align="end">{{requiredPermissions.value.length}} / 1000</mat-hint>
            <mat-error *ngIf="appDescForm">{{getErrorMessage("requiredPermissions")}}</mat-error>
          </mat-form-field>
          <mat-form-field class="full-width">
            <textarea matInput maxlength="1000" #partners placeholder="Партнери та спонсори (якщо є):" formControlName="partners"  matTextareaAutosize matAutosizeMinRows="2" matAutosizeMaxRows="6"></textarea>
            <mat-hint align="end">{{partners.value.length}} / 1000</mat-hint>
            <mat-error *ngIf="appDescForm">{{getErrorMessage("partners")}}</mat-error>
          </mat-form-field>
          <button mat-button type="submit" [disabled]="!appDescForm.valid" mat-raised-button color="primary">Далі
                    <mat-icon>chevron_right</mat-icon></button>
        </form>
      </div>
    </mat-step>

    <mat-step [stepControl]="appCostItem">
        <form [formGroup]="appCostItem"(ngSubmit)="submitCostItemForm()" novalidate>
          <ng-template matStepLabel>Заповни кошторис</ng-template>
          <mat-form-field class="full-width">
            <mat-select placeholder="Оберіть категорію витрат:" formControlName="category">
              <mat-option disabled>Оберіть категорію витрат</mat-option>
              <mat-option *ngFor="let category of costItemCategories" [value]="category.value">{{category.name}}</mat-option>
            </mat-select>
            <mat-error *ngIf="appCostItem">{{getErrorMessageCostForm("category")}}</mat-error>
          </mat-form-field>
          <mat-form-field class="full-width">
            <input matInput maxlength="250" #description placeholder="Пояснення" formControlName="description">
            <mat-hint align="end">{{description.value.length}} / 250</mat-hint>
            <mat-error *ngIf="appCostItem">{{getErrorMessageCostForm("description")}}</mat-error>
          </mat-form-field>
          <mat-form-field class="full-width">
            <input matInput maxlength="5" #cost placeholder="Вартість за одиниицю часу/на одну особу, грн.:" formControlName="cost">
            <mat-hint align="end">{{cost.value.length}} / 5</mat-hint>
            <mat-error *ngIf="appCostItem">{{getErrorMessageCostForm("cost")}}</mat-error>
          </mat-form-field>
          <mat-form-field class="full-width">
            <input matInput maxlength="5" #count placeholder="Кількість / затрачений час:" formControlName="count">
            <mat-hint align="end">{{count.value.length}} / 5</mat-hint>
            <mat-error *ngIf="appCostItem">{{getErrorMessageCostForm("count")}}</mat-error>
          </mat-form-field>
          <mat-form-field class="full-width">
            <input matInput maxlength="5" #consumptionsFromProgram placeholder="Витрати з програми, грн.:" formControlName="consumptionsFromProgram">
            <mat-hint align="end">{{consumptionsFromProgram.value.length}} / 5</mat-hint>
            <mat-error *ngIf="appCostItem">{{getErrorMessageCostForm("consumptionsFromProgram")}}</mat-error>
          </mat-form-field>
          <mat-form-field class="full-width">
            <input matInput maxlength="6" #consumptionsFromOtherSources placeholder="Витарти з інших джерел, грн.:" formControlName="consumptionsFromOtherSources">
            <mat-hint align="end">{{consumptionsFromOtherSources.value.length}} / 6</mat-hint>
            <mat-error *ngIf="appCostItem">{{getErrorMessageCostForm("consumptionsFromOtherSources")}}</mat-error>
          </mat-form-field>
          <button mat-button type="submit" class="save-btn" [disabled]="!appCostItem.valid" mat-raised-button color="primary">Зберегти <mat-icon>done</mat-icon> </button>
        </form>
        <div class="button-row">
          <button mat-button matStepperPrevious mat-raised-button color="primary"><mat-icon>navigate_before</mat-icon>Повернутися</button>
          <button mat-button matStepperNext mat-raised-button color="primary" [disabled]='!calculations || calculations.totalFromProgram == 0'>Далі <mat-icon>navigate_next</mat-icon></button>
        </div>

        <div>
          <ng-container *ngIf="calculations">
            <mat-grid-list cols="1" rowHeight="50px">
              <mat-grid-tile><b>Бюджет</b></mat-grid-tile>
            </mat-grid-list>
            <mat-grid-list cols="6" rowHeight="50px" [style.background]="collorAmount">
              <mat-grid-tile></mat-grid-tile>
              <mat-grid-tile></mat-grid-tile>
              <mat-grid-tile></mat-grid-tile>
              <mat-grid-tile [colspan]=2>Сума витрат</mat-grid-tile>
              <mat-grid-tile></mat-grid-tile>
            </mat-grid-list>
            <ng-container *ngIf="checkIfNotEmpty(budget.costItemsFee)">
              <mat-grid-list cols="6" rowHeight="50px" [style.background]="collorCategory">
                <mat-grid-tile>{{costItemCategories[0].name}}</mat-grid-tile>
                <mat-grid-tile></mat-grid-tile>
                <mat-grid-tile></mat-grid-tile>
                <mat-grid-tile [style.background]="lightgreen">з програми</mat-grid-tile>
                <mat-grid-tile [style.background]="lightgreen">з інших джерел</mat-grid-tile>
                <mat-grid-tile></mat-grid-tile>
              </mat-grid-list>
              <mat-grid-list cols="6" rowHeight="50px">
                <mat-grid-tile>Особа, виконувані функції</mat-grid-tile>
                <mat-grid-tile>Розмір винагороди за місяць</mat-grid-tile>
                <mat-grid-tile>Затрачений робочий час</mat-grid-tile>
                <mat-grid-tile>грн</mat-grid-tile>
                <mat-grid-tile>грн</mat-grid-tile>
                <mat-grid-tile></mat-grid-tile>
              </mat-grid-list>
              <mat-grid-list cols="6" rowHeight="50px" *ngFor="let costItem of budget.costItemsFee; let i = index">
                <mat-grid-tile>{{costItem.description}}</mat-grid-tile>
                <mat-grid-tile>{{costItem.cost}}</mat-grid-tile>
                <mat-grid-tile>{{costItem.count}}</mat-grid-tile>
                <mat-grid-tile>{{costItem.consumptionsFromProgram}}</mat-grid-tile>
                <mat-grid-tile>{{costItem.consumptionsFromOtherSources}}</mat-grid-tile>
                <mat-grid-tile> <button mat-icon-button color="warn" (click)="removeCostItem(i,costItemCategories[0].value)"><mat-icon>delete_forever</mat-icon></button></mat-grid-tile>
              </mat-grid-list>
              <mat-grid-list cols="6" rowHeight="50px">
                <mat-grid-tile></mat-grid-tile>
                <mat-grid-tile></mat-grid-tile>
                <mat-grid-tile>Сума : </mat-grid-tile>
                <mat-grid-tile>{{calculations.totalFeeFromProgram}}</mat-grid-tile>
                <mat-grid-tile>{{calculations.totalFeeFromOtherSources}}</mat-grid-tile>
                <mat-grid-tile></mat-grid-tile>
              </mat-grid-list>
            </ng-container>
            <ng-container *ngIf="checkIfNotEmpty(budget.costItemsTransport)">
              <mat-grid-list cols="6" rowHeight="50px" [style.background]="collorCategory">
                <mat-grid-tile>{{costItemCategories[1].name}}</mat-grid-tile>
                <mat-grid-tile></mat-grid-tile>
                <mat-grid-tile></mat-grid-tile>
                <mat-grid-tile>з програми</mat-grid-tile>
                <mat-grid-tile>з інших джерел</mat-grid-tile>
                <mat-grid-tile></mat-grid-tile>
              </mat-grid-list>
              <mat-grid-list cols="6" rowHeight="50px">
                <mat-grid-tile>Пояснення</mat-grid-tile>
                <mat-grid-tile>Вартість на одну особу / день</mat-grid-tile>
                <mat-grid-tile>К-сть осіб</mat-grid-tile>
                <mat-grid-tile>грн</mat-grid-tile>
                <mat-grid-tile>грн</mat-grid-tile>
                <mat-grid-tile></mat-grid-tile>
              </mat-grid-list>
              <mat-grid-list cols="6" rowHeight="50px" *ngFor="let costItem of budget.costItemsTransport; let i = index">
                <mat-grid-tile>{{costItem.description}}</mat-grid-tile>
                <mat-grid-tile>{{costItem.cost}}</mat-grid-tile>
                <mat-grid-tile>{{costItem.count}}</mat-grid-tile>
                <mat-grid-tile>{{costItem.consumptionsFromProgram}}</mat-grid-tile>
                <mat-grid-tile>{{costItem.consumptionsFromOtherSources}}</mat-grid-tile>
                <mat-grid-tile> <button mat-icon-button color="warn" (click)="removeCostItem(i,costItemCategories[1].value)"><mat-icon>delete_forever</mat-icon></button></mat-grid-tile>
              </mat-grid-list>
              <mat-grid-list cols="6" rowHeight="50px">
                <mat-grid-tile></mat-grid-tile>
                <mat-grid-tile></mat-grid-tile>
                <mat-grid-tile>Сума : </mat-grid-tile>
                <mat-grid-tile>{{calculations.totalTransportFromProgram}}</mat-grid-tile>
                <mat-grid-tile>{{calculations.totalTransportFromOtherSources}}</mat-grid-tile>
                <mat-grid-tile></mat-grid-tile>
              </mat-grid-list>
            </ng-container>
            <ng-container *ngIf="checkIfNotEmpty(budget.costItemsNutrition)">
              <mat-grid-list cols="6" rowHeight="50px" [style.background]="collorCategory">
                <mat-grid-tile>{{costItemCategories[2].name}}</mat-grid-tile>
                <mat-grid-tile></mat-grid-tile>
                <mat-grid-tile></mat-grid-tile>
                <mat-grid-tile>з програми</mat-grid-tile>
                <mat-grid-tile>з інших джерел</mat-grid-tile>
                <mat-grid-tile></mat-grid-tile>
              </mat-grid-list>
              <mat-grid-list cols="6" rowHeight="50px">
                <mat-grid-tile>Пояснення</mat-grid-tile>
                <mat-grid-tile>Вартість на одну особу</mat-grid-tile>
                <mat-grid-tile>К-сть осіб</mat-grid-tile>
                <mat-grid-tile>грн</mat-grid-tile>
                <mat-grid-tile>грн</mat-grid-tile>
                <mat-grid-tile></mat-grid-tile>
              </mat-grid-list>
              <mat-grid-list cols="6" rowHeight="50px" *ngFor="let costItem of budget.costItemsNutrition; let i = index">
                <mat-grid-tile>{{costItem.description}}</mat-grid-tile>
                <mat-grid-tile>{{costItem.cost}}</mat-grid-tile>
                <mat-grid-tile>{{costItem.count}}</mat-grid-tile>
                <mat-grid-tile>{{costItem.consumptionsFromProgram}}</mat-grid-tile>
                <mat-grid-tile>{{costItem.consumptionsFromOtherSources}}</mat-grid-tile>
                <mat-grid-tile> <button mat-icon-button color="warn" (click)="removeCostItem(i,costItemCategories[2].value)"><mat-icon>delete_forever</mat-icon></button></mat-grid-tile>
              </mat-grid-list>
              <mat-grid-list cols="6" rowHeight="50px">
                <mat-grid-tile></mat-grid-tile>
                <mat-grid-tile></mat-grid-tile>
                <mat-grid-tile>Сума : </mat-grid-tile>
                <mat-grid-tile>{{calculations.totalNutritionFromProgram}}</mat-grid-tile>
                <mat-grid-tile>{{calculations.totalNutritionFromOtherSources}}</mat-grid-tile>
                <mat-grid-tile></mat-grid-tile>
              </mat-grid-list>
            </ng-container>
            <ng-container *ngIf="checkIfNotEmpty(budget.costItemsRent)">
              <mat-grid-list cols="6" rowHeight="50px" [style.background]="collorCategory">
                <mat-grid-tile>{{costItemCategories[3].name}}</mat-grid-tile>
                <mat-grid-tile></mat-grid-tile>
                <mat-grid-tile></mat-grid-tile>
                <mat-grid-tile>з програми</mat-grid-tile>
                <mat-grid-tile>з інших джерел</mat-grid-tile>
                <mat-grid-tile></mat-grid-tile>
              </mat-grid-list>
              <mat-grid-list cols="6" rowHeight="50px">
                <mat-grid-tile>Пояснення</mat-grid-tile>
                <mat-grid-tile>Вартість на годину/день</mat-grid-tile>
                <mat-grid-tile>К-сть годин/днів</mat-grid-tile>
                <mat-grid-tile>грн</mat-grid-tile>
                <mat-grid-tile>грн</mat-grid-tile>
                <mat-grid-tile></mat-grid-tile>
              </mat-grid-list>
              <mat-grid-list cols="6" rowHeight="50px" *ngFor="let costItem of budget.costItemsRent; let i = index">
                <mat-grid-tile>{{costItem.description}}</mat-grid-tile>
                <mat-grid-tile>{{costItem.cost}}</mat-grid-tile>
                <mat-grid-tile>{{costItem.count}}</mat-grid-tile>
                <mat-grid-tile>{{costItem.consumptionsFromProgram}}</mat-grid-tile>
                <mat-grid-tile>{{costItem.consumptionsFromOtherSources}}</mat-grid-tile>
                <mat-grid-tile> <button mat-icon-button color="warn" (click)="removeCostItem(i,costItemCategories[3].value)"><mat-icon>delete_forever</mat-icon></button></mat-grid-tile>
              </mat-grid-list>
              <mat-grid-list cols="6" rowHeight="50px">
                <mat-grid-tile></mat-grid-tile>
                <mat-grid-tile></mat-grid-tile>
                <mat-grid-tile>Сума : </mat-grid-tile>
                <mat-grid-tile>{{calculations.totalRentFromProgram}}</mat-grid-tile>
                <mat-grid-tile>{{calculations.totalRentFromOtherSources}}</mat-grid-tile>
                <mat-grid-tile></mat-grid-tile>
              </mat-grid-list>
            </ng-container>
            <ng-container *ngIf="checkIfNotEmpty(budget.costItemsAdministrative)">
              <mat-grid-list cols="6" rowHeight="50px" [style.background]="collorCategory">
                <mat-grid-tile>{{costItemCategories[4].name}}</mat-grid-tile>
                <mat-grid-tile></mat-grid-tile>
                <mat-grid-tile></mat-grid-tile>
                <mat-grid-tile>з програми</mat-grid-tile>
                <mat-grid-tile>з інших джерел</mat-grid-tile>
                <mat-grid-tile></mat-grid-tile>
              </mat-grid-list>
              <mat-grid-list cols="6" rowHeight="50px">
                <mat-grid-tile>Пояснення</mat-grid-tile>
                <mat-grid-tile>Вартість</mat-grid-tile>
                <mat-grid-tile>Кількість</mat-grid-tile>
                <mat-grid-tile>грн</mat-grid-tile>
                <mat-grid-tile>грн</mat-grid-tile>
                <mat-grid-tile></mat-grid-tile>
              </mat-grid-list>
              <mat-grid-list cols="6" rowHeight="50px" *ngFor="let costItem of budget.costItemsAdministrative; let i = index">
                <mat-grid-tile>{{costItem.description}}</mat-grid-tile>
                <mat-grid-tile>{{costItem.cost}}</mat-grid-tile>
                <mat-grid-tile>{{costItem.count}}</mat-grid-tile>
                <mat-grid-tile>{{costItem.consumptionsFromProgram}}</mat-grid-tile>
                <mat-grid-tile>{{costItem.consumptionsFromOtherSources}}</mat-grid-tile>
                <mat-grid-tile> <button mat-icon-button color="warn" (click)="removeCostItem(i,costItemCategories[4].value)"><mat-icon>delete_forever</mat-icon></button></mat-grid-tile>
              </mat-grid-list>
              <mat-grid-list cols="6" rowHeight="50px">
                <mat-grid-tile></mat-grid-tile>
                <mat-grid-tile></mat-grid-tile>
                <mat-grid-tile>Сума : </mat-grid-tile>
                <mat-grid-tile>{{calculations.totalAdvertisingFromProgram}}</mat-grid-tile>
                <mat-grid-tile>{{calculations.totalAdministrativeFromOtherSources}}</mat-grid-tile>
                <mat-grid-tile></mat-grid-tile>
              </mat-grid-list>
            </ng-container>
            <ng-container *ngIf="checkIfNotEmpty(budget.costItemsAdvertising)">
              <mat-grid-list cols="6" rowHeight="50px" [style.background]="collorCategory">
                <mat-grid-tile>{{costItemCategories[5].name}}</mat-grid-tile>
                <mat-grid-tile></mat-grid-tile>
                <mat-grid-tile></mat-grid-tile>
                <mat-grid-tile>з програми</mat-grid-tile>
                <mat-grid-tile>з інших джерел</mat-grid-tile>
                <mat-grid-tile></mat-grid-tile>
              </mat-grid-list>
              <mat-grid-list cols="6" rowHeight="50px">
                <mat-grid-tile>Пояснення</mat-grid-tile>
                <mat-grid-tile>Вартість</mat-grid-tile>
                <mat-grid-tile>Кількість</mat-grid-tile>
                <mat-grid-tile>грн</mat-grid-tile>
                <mat-grid-tile>грн</mat-grid-tile>
                <mat-grid-tile></mat-grid-tile>
              </mat-grid-list>
              <mat-grid-list cols="6" rowHeight="50px" *ngFor="let costItem of budget.costItemsAdvertising; let i = index">
                <mat-grid-tile>{{costItem.description}}</mat-grid-tile>
                <mat-grid-tile>{{costItem.cost}}</mat-grid-tile>
                <mat-grid-tile>{{costItem.count}}</mat-grid-tile>
                <mat-grid-tile>{{costItem.consumptionsFromProgram}}</mat-grid-tile>
                <mat-grid-tile>{{costItem.consumptionsFromOtherSources}}</mat-grid-tile>
                <mat-grid-tile> <button mat-icon-button color="warn" (click)="removeCostItem(i,costItemCategories[5].value)"><mat-icon>delete_forever</mat-icon></button></mat-grid-tile>
              </mat-grid-list>
              <mat-grid-list cols="6" rowHeight="50px">
                <mat-grid-tile></mat-grid-tile>
                <mat-grid-tile></mat-grid-tile>
                <mat-grid-tile>Сума : </mat-grid-tile>
                <mat-grid-tile>{{calculations.totalAdvertisingFromProgram}}</mat-grid-tile>
                <mat-grid-tile>{{calculations.totalAdvertisingFromOtherSources}}</mat-grid-tile>
                <mat-grid-tile></mat-grid-tile>
              </mat-grid-list>
            </ng-container>
            <ng-container *ngIf="checkIfNotEmpty(budget.costItemsMaterial)">
              <mat-grid-list cols="6" rowHeight="50px" [style.background]="collorCategory">
                <mat-grid-tile>{{costItemCategories[6].name}}</mat-grid-tile>
                <mat-grid-tile></mat-grid-tile>
                <mat-grid-tile></mat-grid-tile>
                <mat-grid-tile>з програми</mat-grid-tile>
                <mat-grid-tile>з інших джерел</mat-grid-tile>
                <mat-grid-tile></mat-grid-tile>
              </mat-grid-list>
              <mat-grid-list cols="6" rowHeight="50px">
                <mat-grid-tile>Пояснення</mat-grid-tile>
                <mat-grid-tile>Вартість</mat-grid-tile>
                <mat-grid-tile>Кількість</mat-grid-tile>
                <mat-grid-tile>грн</mat-grid-tile>
                <mat-grid-tile>грн</mat-grid-tile>
                <mat-grid-tile></mat-grid-tile>
              </mat-grid-list>
              <mat-grid-list cols="6" rowHeight="50px" *ngFor="let costItem of budget.costItemsMaterial; let i = index">
                <mat-grid-tile>{{costItem.description}}</mat-grid-tile>
                <mat-grid-tile>{{costItem.cost}}</mat-grid-tile>
                <mat-grid-tile>{{costItem.count}}</mat-grid-tile>
                <mat-grid-tile>{{costItem.consumptionsFromProgram}}</mat-grid-tile>
                <mat-grid-tile>{{costItem.consumptionsFromOtherSources}}</mat-grid-tile>
                <mat-grid-tile> <button mat-icon-button color="warn" (click)="removeCostItem(i,costItemCategories[6].value)"><mat-icon>delete_forever</mat-icon></button></mat-grid-tile>
              </mat-grid-list>
              <mat-grid-list cols="6" rowHeight="50px">
                <mat-grid-tile></mat-grid-tile>
                <mat-grid-tile></mat-grid-tile>
                <mat-grid-tile>Сума : </mat-grid-tile>
                <mat-grid-tile>{{calculations.totalMaterialsFromProgram}}</mat-grid-tile>
                <mat-grid-tile>{{calculations.totalMaterialsFromOtherSources}}</mat-grid-tile>
                <mat-grid-tile></mat-grid-tile>
              </mat-grid-list>
            </ng-container>
            <ng-container *ngIf="checkIfNotEmpty(budget.costItemsOthers)">
              <mat-grid-list cols="6" rowHeight="50px" [style.background]="collorCategory">
                <mat-grid-tile>{{costItemCategories[7].name}}</mat-grid-tile>
                <mat-grid-tile></mat-grid-tile>
                <mat-grid-tile></mat-grid-tile>
                <mat-grid-tile>з програми</mat-grid-tile>
                <mat-grid-tile>з інших джерел</mat-grid-tile>
                <mat-grid-tile></mat-grid-tile>
              </mat-grid-list>
              <mat-grid-list cols="6" rowHeight="50px">
                <mat-grid-tile>Пояснення</mat-grid-tile>
                <mat-grid-tile>Вартість</mat-grid-tile>
                <mat-grid-tile>Кількість</mat-grid-tile>
                <mat-grid-tile>грн</mat-grid-tile>
                <mat-grid-tile>грн</mat-grid-tile>
                <mat-grid-tile></mat-grid-tile>
              </mat-grid-list>
              <mat-grid-list cols="6" rowHeight="50px" *ngFor="let costItem of budget.costItemsOthers; let i = index">
                <mat-grid-tile>{{costItem.description}}</mat-grid-tile>
                <mat-grid-tile>{{costItem.cost}}</mat-grid-tile>
                <mat-grid-tile>{{costItem.count}}</mat-grid-tile>
                <mat-grid-tile>{{costItem.consumptionsFromProgram}}</mat-grid-tile>
                <mat-grid-tile>{{costItem.consumptionsFromOtherSources}}</mat-grid-tile>
                <mat-grid-tile> <button mat-icon-button color="warn" (click)="removeCostItem(i,costItemCategories[7].value)"><mat-icon>delete_forever</mat-icon></button></mat-grid-tile>
              </mat-grid-list>
              <mat-grid-list cols="6" rowHeight="50px">
                <mat-grid-tile></mat-grid-tile>
                <mat-grid-tile></mat-grid-tile>
                <mat-grid-tile>Сума : </mat-grid-tile>
                <mat-grid-tile>{{calculations.totalOthersFromProgram}}</mat-grid-tile>
                <mat-grid-tile>{{calculations.totalOthersFromOtherSources}}</mat-grid-tile>
                <mat-grid-tile></mat-grid-tile>
              </mat-grid-list>
            </ng-container>
            <mat-grid-list cols="6" rowHeight="50px" [style.background]="collorGeneral">
              <mat-grid-tile></mat-grid-tile>
              <mat-grid-tile></mat-grid-tile>
              <mat-grid-tile>Загальна сума : </mat-grid-tile>
              <mat-grid-tile>{{calculations.totalFromProgram}}</mat-grid-tile>
              <mat-grid-tile>{{calculations.totalFromOtherSources}}</mat-grid-tile>
              <mat-grid-tile></mat-grid-tile>
            </mat-grid-list>
            <mat-grid-list cols="6" rowHeight="50px" [style.background]="collorGeneral">
              <mat-grid-tile></mat-grid-tile>
              <mat-grid-tile></mat-grid-tile>
              <mat-grid-tile>Загальний бюджет проекту : </mat-grid-tile>
              <mat-grid-tile>{{calculations.totalFromProgram + calculations.totalFromOtherSources}}</mat-grid-tile>
              <mat-grid-tile></mat-grid-tile>
              <mat-grid-tile></mat-grid-tile>
            </mat-grid-list>
          </ng-container>
        </div>
      </mat-step>
      <mat-step>
        <ng-template matStepLabel>Завантажити файли</ng-template>
        <div>
          <div class="button-row">
            <button mat-raised-button color="primary" (click)="fileImg.click()">jpg, png <mat-icon>file_download</mat-icon>
                <input #fileImg type="file" multiple="true" (change)="saveImagesToUpload($event)" style="display:none;" accept=".jpg, .png" />
            </button>
            <button mat-raised-button color="primary" (click)="filePdf.click()">pdf <mat-icon>file_download</mat-icon>
                <input #filePdf type="file" multiple="true" (change)="savePdfToUpload($event)" style="display:none;" accept=".pdf" />
            </button>
          </div>  
          <div class="button-row">
            <button mat-button matStepperPrevious mat-raised-button color="primary"><mat-icon>navigate_before</mat-icon>Повернутися</button>
            <button mat-button matStepperNext mat-raised-button color="primary">Далі <mat-icon>navigate_next</mat-icon></button>
          </div>
          <div *ngIf="images.length > 0 || pdfDocs.length > 0">
            <mat-card>
              <mat-card-header>
                <mat-card-title><b>Завантажені файли:</b></mat-card-title>
              </mat-card-header>
              <mat-card-content>
                <mat-list *ngFor="let image of images">
                  <mat-list-item>{{image.name}}</mat-list-item>
                  <mat-divider></mat-divider>
                </mat-list>
                <mat-list *ngFor="let pdf of pdfDocs">
                  <mat-list-item>{{pdf.name}}</mat-list-item>
                  <mat-divider></mat-divider>
                </mat-list>
              </mat-card-content>
            </mat-card>
          </div>
        </div>
      </mat-step>

      <mat-step>
          <ng-template matStepLabel>Відіслати заявку</ng-template>
          <button mat-button matStepperNext mat-raised-button color="primary" (click)="confirmProjectApplication(stepper)">Відіслати для розгляду <mat-icon>mail_outline</mat-icon></button>
      </mat-step>
</mat-horizontal-stepper>